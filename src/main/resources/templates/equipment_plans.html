<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.5/css/dataTables.bootstrap5.min.css">
    <link   rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;0,900;1,400;1,700;1,900&display=swap"
    />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link th:href="@{/css/style.css}" rel="stylesheet"/>
    <title>Project contracts</title>
</head>
<body>
<header class="container-fluid fixed-top">
    <div class="row bg-dark text-bg-secondary align-items-center " style="height: 8vh">
        <div class="col-xl-1 text-center">
            <a class="text-white" th:href="@{/}">
                <img width="75px" th:src="@{/logo/logo.png}" alt="logo"/>
            </a>
        </div>
        <div class="col-xl-8" style="line-height: 28px">
            <h4 class="title text-center mb-0" id="task">Project Deadline Management</h4>
        </div>
        <div class="col-xl-2">
            <p class="align-items-center text-end mb-0">Welcome: <span class="user" th:text="${#authentication.name}"></span></p>
        </div>
    </div>
</header>
<main style="max-height: 84vh;">
    <div class="container-fluid" >
        <div class="row" style="position: relative; top: 8vh; max-height: 84vh;">
            <div class="aside_menu col-xl-2" style="position: fixed; ">
                <div class="title_menu">
                    <h3 class="title_h"><span class="title_s">М</span>ЕНЮ</h3>
                </div>
                <ul class="list_menu">
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/divisions}">Дивізіони</a>
                    </li>
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/equipments}">Обладнання</a>
                    </li>
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/projects}">Проекти</a>
                    </li>
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/designs}" >Конструктор</a>
                    </li>
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/technologies}">Технолог</a>
                    </li>
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/contracts}">Контракти</a>
                    </li>
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/tasks}">Завдання</a>
                    </li>
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/production_plans}">План виробництва</a>
                        <ul class="list_menu_sub">
                            <li  class="item_menu_sub">
                                <a class="link_menu_sub_active" href="">Щодо обладнання</a>
                            </li>

                        </ul>
                    </li>
                </ul>
            </div>
            <div class="free col-xl-2"></div>
            <div class="free col-xl-10" >
                <div class="row">
                    <div class="col-xl-12">
                        <h2 class="text_h" th:text="'План виробництва (' + ${month} + ')'"></h2>
                        <table class="table_sm table table-striped  table-bordered border-secondary-subtle">
                            <thead>
                            <tr>
                                <th class="text_n1 text-center p-0" >Equipment</th>
                                <th class="text_n1 px-1 text-center py-0"
                                    th:each="d: ${chartEquipmentCommands[0].chartDaysCommands}"
                                    th:text="${d.dayNumber.getDayOfMonth()}" >

                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="chartE: ${chartEquipmentCommands}">
                                <td class="text_b tx" >
                                    <a class="text_b tx" th:text="${chartE.equipment}" th:href="@{/production_plans/equipment_plans/{id}(id=${chartE.equipmentId})}" />
                                </td>
                                <td class="text_a tx text-center p-0" th:each="day: ${chartE.chartDaysCommands}">
                                    <a class="text_a tx" th:text="${day.planPerDay}" th:href="@{/production_plans/{id}(id=${day.dayNumber + ':' + chartE.equipmentId})}" />
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <ol class="text_h1">
                            Примітка
                            <li class="text_p1">
                                <div class="col-xl-12">
                                    <details>
                                        <summary class="sum-item" th:text="'План виробництва на день (' + ${parameter} + ')'"></summary>
                                        <div th:if="${productionPlansPerDay != null}">
                                            <table id="example" class="table_sm table table-striped table-hover table-bordered border-secondary-subtle">
                                                <thead>
                                                <tr>
                                                    <th class="text_p1 col-xl-1 px-1 text-center ">Id</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Номер проекту</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Обладнання</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Деталь</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Черга на обладнання</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Номер операції</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Час операції</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Номер партії</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Поточний час</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Початок виробництва</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Стан</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr th:each="planCommand: ${productionPlansPerDay}">
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${planCommand.id}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${planCommand.task.projectNumber}"></td>
                                                    <td class="text_p1 col-xl-1 px-1" th:text="${planCommand.task.partNumber + '-' + planCommand.task.partName}"></td>
                                                    <td class="text_p1 col-xl-1 px-1 " th:text="${planCommand.equipment.number + '-' + planCommand.equipment.name}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${planCommand.number}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${planCommand.task.termNumber}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${planCommand.task.operationTime}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${planCommand.task.lotNumber}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${planCommand.currentStart}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${planCommand.task.startProduction}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${planCommand.task.taskCondition.name}"></td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </details>
                                </div>
                            </li>
                            <li class="text_p1">
                                <div class="col-xl-12">
                                    <details>
                                        <summary class="sum-item" th:text="'План виробництва на місяць (' + ${month} + ')'"></summary>
                                        <div th:if="${productionPlansPerDay != null}">
                                            <table id="example1" class="table_sm table table-striped table-hover table-bordered border-secondary-subtle">
                                                <thead>
                                                <tr>
                                                    <th class="text_p1 col-xl-1 px-1 text-center ">Id</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Номер проекту</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Обладнання</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Деталь</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Черга на обладнання</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Номер операції</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Час операції</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Номер партії</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Поточний час</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Початок виробництва</th>
                                                    <th class="text_p1 col-xl-1 text-center ">Стан</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr th:each="p: ${productionPlans}">
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${p.id}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${p.task.projectNumber}"></td>
                                                    <td class="text_p1 col-xl-1 px-1" th:text="${p.task.partNumber + '-' + p.task.partName}"></td>
                                                    <td class="text_p1 col-xl-1 px-1 " th:text="${p.equipment.number + '-' + p.equipment.name}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${p.number}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${p.task.termNumber}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${p.task.operationTime}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${p.task.lotNumber}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${p.currentStart}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${p.task.startProduction}"></td>
                                                    <td class="text_p1 col-xl-1 text-center " th:text="${p.task.taskCondition.name}"></td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </details>
                                </div>
                            </li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<footer class="container-fluid fixed-bottom">
    <div class="row bg-dark text-bg-secondary" style="height: 8vh">
        <div class="col-xl-4 text-center">
            <p class="text-start m-0 mt-2 ps-3">Semenyuk Oleksandr</p>
            <p class="text-start m-0 ps-3">ITStep, Java</p>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.5/js/dataTables.bootstrap5.min.js"></script>
<script>
    new DataTable('#example');
    new DataTable('#example1');
    new DataTable('#example2');
</script>
</body>
</html>
