<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.5/css/dataTables.bootstrap5.min.css">
    <link   rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,700;0,900;1,400;1,700;1,900&display=swap"
    />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link th:href="@{/css/style.css}" rel="stylesheet"/>
    <title>Project contracts</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            /*font-family: sans-serif;*/
        }
        /*.chartMenu {*/
        /*    !*width: 100vw;*!*/
        /*    height: 20px;*/
        /*    background: #1A1A1A;*/
        /*    color: rgba(54, 162, 235, 1);*/
        /*}*/
        .chartMenu p {
            padding: 10px;
            font-size: 20px;
        }
        /*.chartCard {*/
        /*    !*width: 100vw;*!*/
        /*    !*height: calc(100vh - 40px);*!*/
        /*    background: rgba(54, 162, 235, 0.2);*/
        /*    display: flex;*/
        /*    align-items: center;*/
        /*    justify-content: center;*/
        /*}*/
        .chartBox {
            display: block;
            width: 1000px;
            height: 300px;
            padding: 20px;
            border-radius: 5px;
            /*border: solid 3px rgba(54, 162, 235, 1);*/
            border: solid 2px rgba(75, 75, 75, 1);
            background: white;
            font-size: 14px;
        }
    </style>
</head>
<body>
<header class="container-fluid fixed-top">
    <div class="row bg-dark text-bg-secondary align-items-center " style="height: 8vh">
        <div class="col-xl-1 text-center">
            <a class="text-white" th:href="@{/}">
                <img width="75px" th:src="@{/logo/logo.png}" alt="logo"/>
            </a>
        </div>
        <div class="col-xl-8" style="line-height: 28px">
            <h4 class="title text-center mb-0" id="task">Project Deadline Management</h4>
        </div>
        <div class="col-xl-2">
            <p class="align-items-center text-end mb-0">Welcome: <span class="user" th:text="${#authentication.name}"></span></p>
        </div>
    </div>
</header>
<main style="max-height: 84vh;">
    <div class="container-fluid" >
        <div class="row" style="position: relative; top: 8vh; max-height: 84vh;">
            <div class="aside_menu col-xl-2" style="position: fixed; ">
                <div class="title_menu">
                    <h3 class="title_h"><span class="title_s">М</span>ЕНЮ</h3>
                </div>
                <ul class="list_menu">
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/divisions}">Дивізіони</a>
                    </li>
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/equipments}">Обладнання</a>
                    </li>
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/projects}">Проекти</a>
                        <ul class="list_menu_sub">
                            <li  class="item_menu_sub">
                                <a class="link_menu_sub_active" th:href="@{/projects/project_details/{id}(id=${project.id})}">Щодо проекту</a>
                            </li>
                            <li  class="item_menu_sub">
                                <a class="link_menu_sub" th:href="@{/projects/project_details/project_lists/{id}(id=${project.id})}">Список проекту</a>
                            </li>
                            <li  class="item_menu_sub">
                                <a class="link_menu_sub" th:href="@{/projects/project_create}">Створити проект</a>
                            </li>
                            <li  class="item_menu_sub">
                                <a class="link_menu_sub" th:href="@{/projects/project_create/customers}">Замовники</a>
                            </li>
                            <li  class="item_menu_sub">
                                <a class="link_menu_sub" th:href="@{/projects/project_create/project_conditions}">Стан</a>
                            </li>
                        </ul>
                    </li>
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/designs}" >Конструктор</a>
                    </li>
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/technologies}">Технолог</a>
                    </li>
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/contracts}">Контракти</a>
                    </li>
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/tasks}">Завдання</a>
                    </li>
                    <li class="item_menu">
                        <a class="link_menu" th:href="@{/production_plans}">План виробництва</a>
                    </li>
                </ul>
            </div>
            <div class="free col-xl-2"></div>
            <div class="free col-xl-10" >
                <div class="row">
                    <div class="col-xl-12">
                        <h2 class="text_h">Ваш проект</h2>
                        <table class="table_sm table table-striped table-hover table-bordered border-secondary-subtle" style="width:100%;">
                            <thead>
                            <tr>
                                <th class="text_n1 col-xl-1 px-1 text-center">Id</th>
                                <th class="text_n1 col-xl-1 text-center">Номер</th>
                                <th class="text_n1 col-xl-1 text-center">Замовник</th>
                                <th class="text_n1 col-xl-1 text-center ">ЧРК (роб. днів)</th>
                                <th class="text_n1 col-xl-1 text-center ">ЧРТ (роб. днів)</th>
                                <th class="text_n1 col-xl-2 text-center">Початок</th>
                                <th class="text_n1 col-xl-2 text-center">Закінчення</th>
                                <th class="text_n1 col-xl-1 text-center ">Стан</th>
                                <th class="text_n1 col-xl-1 text-center">Примітка</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td class="text_n col-xl-1 text-center" th:text="${project.id}"></td>
                                <td class="text_n col-xl-1 px-1"  th:text="${project.number}"></td>
                                <td class="text_n col-xl-1 text-center" th:text="${project.customer.name}"></td>
                                <td class="text_n col-xl-1 text-center" th:text="${project.designTerm}"></td>
                                <td class="text_n col-xl-1 text-center" th:text="${project.technologyTerm}"></td>
                                <td class="text_n col-xl-2 text-center" th:text="${project.start}"></td>
                                <td class="text_n col-xl-2 text-center" th:text="${project.deadline}"></td>
                                <td class="text_n col-xl-1 px-1 text-center" th:text="${project.projectCondition.name}"></td>
                                <td class="text_n col-xl-1 text-center">
                                    <div class="row">
                                        <div class="col-xl-6 text-center">
                                            <a class="text-dark px-1" th:href="@{/projects/project_details/edit/{id}(id=${project.id})}">
                                                <i class="bi bi-pencil-fill" style="font-size: 1.2rem;"></i>
                                            </a>
                                        </div>
                                        <div class="col-xl-6 text-center">
                                            <a class="text-dark px-1" th:href="@{/projects/project_details/delete/{id}(id=${project.id})}">
                                                <i class="bi bi-trash-fill" style="font-size: 1.2rem;"></i>
                                            </a>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <ol class="text_h1">
                            Примітка
                            <li class="text_p">ЧРК - Час розробки конструктора</li>
                            <li class="text_p">ЧРТ - Час розробки технолога</li>
                            <li class="text_p1">
                                <div class="col-xl-8">
                                    <details>
                                        <summary class="sum-item">Список деталей щодо проекту</summary>
                                        <table id="example" class="table_sm table table-striped table-hover table-bordered border-secondary-subtle" style="width:100%;">
                                            <thead>
                                            <tr>
                                                <th class="text_n1 col-xl-2 px-1 text-center">Id</th>
                                                <th class="text_n1 col-xl-4 text-center">Номер</th>
                                                <th class="text_n1 col-xl-3 text-center">Назва</th>
                                                <th class="text_n1 col-xl-3 text-center">Кількість (штук)</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr th:each="p: ${project.projectLists}">
                                                <td class="text_n col-xl-2 text-center" th:text="${p.part.id}"></td>
                                                <td class="text_n col-xl-4 px-1"  th:text="${p.part.number}"></td>
                                                <td class="text_n col-xl-3 px-1"  th:text="${p.part.name}"></td>
                                                <td class="text_n col-xl-3 text-center"  th:text="${p.amount}"></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </details>
                                </div>
                                <div class="col-xl-4"></div>
                            </li>
                            <li class="text_p1">
                                <div class="col-xl-8">
                                    <details>
                                        <summary class="sum-item">Список контрактів щодо проекту</summary>
                                        <table id="example1" class="table_sm table table-striped table-hover table-bordered border-secondary-subtle" style="width:100%;">
                                            <thead>
                                            <tr>
                                                <th class="text_n1 col-xl-1 px-1 text-center">Id</th>
                                                <th class="text_n1 col-xl-2 px-1 ">Номер</th>
                                                <th class="text_n1 col-xl-2 px-1 ">Назва</th>
                                                <th class="text_n1 col-xl-2 px-1 text-center">Початок</th>
                                                <th class="text_n1 col-xl-2 px-1 text-center">Закінчення</th>
                                                <th class="text_n1 col-xl-1 text-center">Тип</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr th:each="contract: ${project.contracts}">
                                                <td class="text_n col-xl-1 text-center" th:text="${contract.id}"></td>
                                                <td class="text_n col-xl-2 px-1"  th:text="${contract.number}"></td>
                                                <td class="text_n col-xl-2 px-1"  th:text="${contract.name}"></td>
                                                <td class="text_n col-xl-2 text-center"  th:text="${contract.start}"></td>
                                                <td class="text_n col-xl-2 text-center"  th:text="${contract.deadline}"></td>
                                                <td class="text_n col-xl-1 text-center"  th:text="${contract.contractType.name}"></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </details>
                                </div>
                                <div class="col-xl-4"></div>
                            </li>
                            <li class="text_p1">
                                <details>
                                    <summary class="sum-item">Список завдань щодо проекту</summary>
                                    <table id="example2" class="table_sm table table-striped table-hover table-bordered border-secondary-subtle" style="width:100%;">
                                        <thead>
                                        <tr>
                                            <th class="text_n1 col-xl-1 px-1 text-center align-items-center">Id</th>
                                            <th class="text_n1 col-xl-1 text-center align-items-center">Номер проекту</th>
                                            <th class="text_n1 col-xl-2 text-center align-items-center">Обладнання</th>
                                            <th class="text_n1 col-xl-2 text-center align-items-center">Деталь</th>
                                            <th class="text_n1 col-xl-1 text-center align-items-center">Номер операції</th>
                                            <th class="text_n1 col-xl-1 text-center align-items-center">Час операції</th>
                                            <th class="text_n1 col-xl-1 text-center align-items-center">Номер партії</th>
                                            <th class="text_n1 col-xl-2 text-center align-items-center">Початок виробництва</th>
                                            <th class="text_n1 col-xl-1 text-center align-items-center">Стан</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr th:each="task: ${project.tasks}">
                                            <td class="text_n col-xl-1 text-center" th:text="${task.id}"></td>
                                            <td class="text_n col-xl-1 text-center"  th:text="${task.projectNumber}"></td>
                                            <td class="text_n col-xl-2 px-1"  th:text="${task.equipment.number + '-' + task.equipment.name}"></td>
                                            <td class="text_n col-xl-2 px-1"  th:text="${task.partNumber + ' - ' + task.partName}"></td>
                                            <td class="text_n col-xl-1 text-center"  th:text="${task.termNumber}"></td>
                                            <td class="text_n col-xl-1 text-center"  th:text="${task.operationTime}"></td>
                                            <td class="text_n col-xl-1 text-center"  th:text="${task.lotNumber}"></td>
                                            <td class="text_n col-xl-2 text-center"  th:text="${task.startProduction}"></td>
                                            <td class="text_n col-xl-1 text-center"  th:text="${task.taskCondition.name}"></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </details>
                            </li>
<!--                                <a class="text-dark px-1" th:href="@{/api/v1/chart/{id}(id=${project.id})}">-->
<!--                                   Start-->
<!--                                </a>-->
                                <input id="csrfToken" th:name="${_csrf.parameterName}" type="hidden" th:value="${_csrf.token}">
<!--                                <button type="button" th:name="${project.id}" id="start">start</button>-->
                                <div class="chartMenu" style="display: none">
                                    <p>WWW.CHARTJS3.COM (Chart JS <span id="chartVersion"></span>)</p>
                                </div>
                            <li class="text_p1">
                                <details id="chartDetails" th:name="${project.id}">
                                    <summary class="sum-item" >Графік проекту</summary>
                                    <div class="chartCard">
                                        <div class="chartBox">
                                            <canvas id="myChart"></canvas>
                                        </div>
                                    </div>
                                </details>
                            </li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<footer class="container-fluid fixed-bottom">
    <div class="row bg-dark text-bg-secondary" style="height: 8vh">
        <div class="col-xl-4 text-center">
            <p class="text-start m-0 mt-2 ps-3">Semenyuk Oleksandr</p>
            <p class="text-start m-0 ps-3">ITStep, Java</p>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.5/js/dataTables.bootstrap5.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js/dist/chart.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
<script>
    new DataTable('#example');
    new DataTable('#example1');
    new DataTable('#example2');
</script>
<script th:src="@{/js/chart_total.js}"></script>

</body>
</html>








<!--<!DOCTYPE html>-->
<!--<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">-->
<!--    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.5/css/jquery.dataTables.min.css">-->
<!--    <title>Project Details</title>-->
<!--</head>-->
<!--<body>-->
<!--<div class="container">-->
<!--    <div class="row">-->
<!--        <div class="col-xl-2">-->
<!--            <div>-->
<!--                <a class="btn btn-primary my-5 " th:href="@{/}">Back to main page</a>-->
<!--            </div>-->
<!--            <div>-->
<!--                <p>Welcome: <span th:text="${#authentication.name}"></span></p>-->
<!--            </div>-->
<!--            <div>-->
<!--                <a class="btn btn-primary my-2" th:text="addLists"-->
<!--                   th:href="@{/projects/project_details/project_lists/{id}(id=${project.id})}" />-->
<!--            </div>-->
<!--            <div>-->
<!--                <a class="btn btn-primary my-2" th:text="Edit"-->
<!--                   th:href="@{/projects/project_details/edit/{id}(id=${project.id})}" />-->
<!--            </div>-->
<!--            <div>-->
<!--                <a class="btn btn-primary my-2" th:text="Delete"-->
<!--                   th:href="@{/projects/project_details/delete/{id}(id=${project.id})}" />-->
<!--            </div>-->


<!--        </div>-->
<!--        <div class="col-xl-10 text-center my-5">-->
<!--            <h1>Project Details</h1>-->
<!--            <h3>Your project</h3>-->
<!--            <table  class="table display compact" id="example" style="width:100%">-->
<!--                <thead>-->
<!--                <tr>-->
<!--                    <th th:scope="col">Id</th>-->
<!--                    <th th:scope="col">Number</th>-->
<!--                    <th th:scope="col">Customer</th>-->
<!--                    <th th:scope="col">Project Lists</th>-->
<!--                    <th th:scope="col">Contract Lists</th>-->
<!--                    <th th:scope="col">Start project</th>-->
<!--                    <th th:scope="col">Design term</th>-->
<!--                    <th th:scope="col">Technology term</th>-->
<!--                    <th th:scope="col">Deadline project</th>-->
<!--                    <th th:scope="col">Conditions</th>-->
<!--                </tr>-->
<!--                </thead>-->
<!--                <tbody>-->
<!--                <tr>-->
<!--                    <td th:scope="row" th:text="${project.id}"></td>-->
<!--                    <td th:text="${project.number}"></td>-->
<!--                    <td th:text="${project.customer.name}"></td>-->
<!--                    <td>-->
<!--                        <details>-->
<!--                            <summary class="sum-item">Lists</summary>-->
<!--                            <p th:each="p: ${project.projectLists}">-->
<!--                                <span th:text="${p.part.number + ' : ' + p.part.name + ' - ' + p.amount}"></span>-->
<!--                            </p>-->
<!--                        </details>-->
<!--                    </td>-->
<!--                    <td>-->
<!--                        <details>-->
<!--                            <summary class="sum-item">Lists</summary>-->
<!--                            <p th:each="contract: ${project.contracts}">-->
<!--                                <span th:text="${contract.number + ' - ' + contract.name + ' : ' + contract.start + ' - ' + contract.deadline}"></span>-->
<!--                            </p>-->
<!--                        </details>-->
<!--                    </td>-->
<!--                    <td th:text="${project.start}"></td>-->
<!--                    <td th:text="${project.designTerm}"></td>-->
<!--                    <td th:text="${project.technologyTerm}"></td>-->
<!--                    <td th:text="${project.deadline}"></td>-->
<!--                    <td th:text="${project.projectCondition.name}"></td>-->
<!--                </tr>-->
<!--                </tbody>-->
<!--            </table>-->
<!--            <p>Project Lists - Part(Number:Name) - Amount</p>-->
<!--            <h3>Chart</h3>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="progress my-2" role="progressbar" aria-label="Basic example" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">-->
<!--        <div class="progress-bar" style="width: 25%"></div>-->
<!--        <div class="progress-bar bg-success" style="width: 25%"></div>-->
<!--    </div>-->
<!--    <div class="progress my-2" role="progressbar" aria-label="Basic example" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">-->
<!--        <div class="progress-bar  bg-info" style="width: 25%"></div>-->
<!--        <div class="progress-bar  bg-dark" style="width: 25%"></div>-->
<!--        <div class="progress-bar  bg-secondary" style="width: 25%"></div>-->
<!--    </div>-->
<!--    <div class="progress my-2" role="progressbar" aria-label="Basic example" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">-->
<!--        <div class="progress-bar bg-warning" style="width: 50%"></div>-->
<!--    </div>-->
<!--    <div class="progress my-2" role="progressbar" aria-label="Basic example" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">-->
<!--        <div class="progress-bar bg-light" style="width: 75%"></div>-->
<!--    </div>-->
<!--    <div class="progress my-2" role="progressbar" aria-label="Basic example" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">-->
<!--        <div class="progress-bar bg-danger" style="width: 100%"></div>-->
<!--    </div>-->

<!--</div>-->

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"-->
<!--        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"-->
<!--        crossorigin="anonymous"></script>-->
<!--<script src="https://code.jquery.com/jquery-3.7.0.js"></script>-->
<!--<script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>-->
<!--<script>-->
<!--    new DataTable('#example');-->
<!--</script>-->
<!--</body>-->
<!--</html>-->
